[database]
host = "localhost"
port = 5432
username = "postgres"
password = "postgres"
database_name = "helium"
max_connections =  10
min_connections =2
acquire_timeout_seconds = 30
idle_timeout_seconds = 600
max_lifetime_seconds = 1800

# Signing keypair settings
[signing]
keypair_path = "/app/keypair.bin"  # Path to Helium keypair file

[ingestor]
grpc_endpoint = "http://localhost:8080"
timeout_seconds = 30
max_retries = 3
retry_delay_seconds = 5
tls_enabled = false

[service]
polling_interval_seconds = 10
batch_size = 500
max_concurrent_publishes = 5
health_check_port = 3000

# Table validation settings
fail_on_missing_tables = true          # Set to false for graceful degradation
validation_retry_attempts = 3          # Number of retries before giving up
validation_retry_delay_seconds = 30    # Delay between validation retries

# Performance settings
# batch_size controls both database scanning and publishing batch size

# Mobile hotspot infos table
[[service.watched_tables]]
name = "mobile_hotspot_infos"
change_column = "last_block_height"
hotspot_type = "mobile"
query_name = "construct_atomic_hotspot"

# IoT hotspot infos table (commented out by default)
#[[service.watched_tables]]
#name = "iot_hotspot_infos"
#change_column = "last_block_height"
#hotspot_type = "iot"
#query_name = "construct_atomic_hotspot"

[logging]
level = "info"
format = "json"
