# ===================================
# Atomic Data Publisher Configuration
# ===================================
# Copy this file to .env and fill in your values

# ===================================
# Database Configuration
# ===================================
DATABASE__HOST=localhost # required
DATABASE__PORT=5432
DATABASE__USERNAME=postgres #required
DATABASE__PASSWORD=postgres #required
DATABASE__DATABASE_NAME=postgres #requried
DATABASE__MAX_CONNECTIONS=10
DATABASE__MIN_CONNECTIONS=2
DATABASE__ACQUIRE_TIMEOUT_SECONDS=60
DATABASE__IDLE_TIMEOUT_SECONDS=700
DATABASE__MAX_LIFETIME_SECONDS=1800

# ===================================
# Signing Configuration
# ===================================
SIGNING__KEYPAIR_PATH=./keypair.bin #required

# ===================================
# Ingestor Configuration
# ===================================
INGESTOR__ENDPOINT=http://localhost:8080 #required
INGESTOR__TIMEOUT_SECONDS=30
INGESTOR__MAX_RETRIES=3
INGESTOR__RETRY_DELAY_SECONDS=2

# ===================================
# Service Configuration
# ===================================
SERVICE__POLLING_INTERVAL_SECONDS=10
SERVICE__BATCH_SIZE=500
SERVICE__MAX_CONCURRENT_PUBLISHES=50
SERVICE__DRY_RUN=false
SERVICE__PORT=8000
SERVICE__DRY_RUN_FAILURE_RATE=0.0

# ===================================
# Logging Configuration
# ===================================
LOGGING__LEVEL=info
LOGGING__FORMAT=json

# ===================================
# Notes
# ===================================
# - Polling jobs are defined in settings.toml
# - For K8s: Use Secrets for DATABASE__PASSWORD, SIGNING__KEYPAIR_PATH
# - For K8s: Mount keypair.bin as a Secret volume and set SIGNING__KEYPAIR_PATH to mount path
